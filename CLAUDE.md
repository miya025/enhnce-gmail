Gmail効率化拡張機能仕様書
1. プロダクト概要
1.1 プロダクト名
EnhanceGmail
1.2 コンセプト
日本人向けに最適化された、シンプルで実用的なGmail効率化Chrome拡張機能。
Superhuman（月額$30）の代替として、月額500円で主要機能を提供。
1.3 ターゲットユーザー

スタートアップ創業者・フリーランス
1日50通以上メールを処理するビジネスパーソン
複数のGmailアカウントを使い分ける人
生産性向上に投資する意欲がある人


2. 機能仕様
2.1 コア機能一覧
#機能名優先度実装難易度開発日数4自然言語スヌーズS高5日5ワンクリック配信停止A中3日6アカウント切り替えA低2日7ショートカット学習A中4日12送信取り消し延長(30秒)S低2日17UI簡素化モードA中3日18一括配信停止モードB中4日20受信トレイタブ分割++A中5日
合計開発期間：28日（約4週間）

3. 詳細機能仕様
3.1 機能4：自然言語スヌーズ
概要
受信メールを自然言語で指定した時刻まで非表示にし、指定時刻に再表示する機能。
ユーザーストーリー

ユーザーは：メールを選択した状態で
操作：Cmd+Shift+S（またはコマンド）を押す
入力：「明日」「tomorrow」「2時間後」などの自然言語
結果：メールが受信トレイから消え、指定時刻に再表示される

対応する自然言語パターン
日本語

"明日" → 翌日 9:00
"明日の朝" → 翌日 9:00
"明日の午後" → 翌日 14:00
"明日の夜" → 翌日 19:00
"今夜" → 当日 19:00
"今週末" → 次の土曜 9:00
"来週" → 次の月曜 9:00
"来週の月曜" → 次の月曜 9:00
"月曜日" → 次の月曜 9:00
"2時間後" → 現在時刻 + 2時間
"3日後" → 3日後の 9:00

英語

"tomorrow" → 翌日 9:00
"tomorrow morning" → 翌日 9:00
"tomorrow afternoon" → 翌日 14:00
"tonight" → 当日 19:00
"next week" → 次の月曜 9:00
"monday" → 次の月曜 9:00
"in 2 hours" → 現在時刻 + 2時間
"in 3 days" → 3日後の 9:00

UI/UX
起動方法

Cmd+Shift+S（Mac）/ Ctrl+Shift+S（Windows）
右クリックメニューから「スヌーズ」
メール表示時の専用ボタン

入力ダイアログ
┌─────────────────────────────┐
│ スヌーズ                      │
├─────────────────────────────┤
│ [明日                    ]  │  ← 入力欄（自動フォーカス）
│                              │
│ 候補:                        │
│ ○ 明日の朝 (1/12 9:00)      │
│ ○ 明日の午後 (1/12 14:00)   │
│ ○ 今夜 (1/11 19:00)         │
│ ○ 来週 (1/13 9:00)          │
└─────────────────────────────┘
確認表示
✓ 1月12日 9:00 にスヌーズしました
処理フロー

ユーザーが自然言語入力
入力をパースして日時に変換
メールに「スヌーズ中」ラベルを付与
メールをアーカイブ（受信トレイから削除）
スケジュール情報をストレージに保存
バックグラウンドで1分ごとにチェック
指定時刻になったらラベルを外して受信トレイに戻す
通知を表示

エラーハンドリング

パースできない場合：「時刻を認識できませんでした。例: 明日、2時間後、月曜日」
過去の時刻を指定：「過去の時刻は指定できません」
Gmail APIエラー：「スヌーズに失敗しました。もう一度お試しください。」


3.2 機能5：ワンクリック配信停止
概要
メール内の配信停止リンクを自動検出し、ワンクリックで配信停止できる機能。
ユーザーストーリー

ユーザーは：不要なメールを開いた状態で
操作：Cmd+Shift+U（またはボタンクリック）
結果：配信停止リンクが開き、同時にメールがアーカイブされる

UI/UX
起動方法

Cmd+Shift+U（Mac）/ Ctrl+Shift+U（Windows）
メール表示時の専用ボタン「配信停止」
右クリックメニュー

検出時の表示
メール上部に表示:
┌─────────────────────────────────┐
│ 🔕 このメールの配信を停止できます  │
│ [配信停止してアーカイブ]         │
└─────────────────────────────────┘
確認ダイアログ
┌─────────────────────────────┐
│ 配信停止の確認                │
├─────────────────────────────┤
│ 以下のメールの配信を停止します: │
│                              │
│ 差出人: newsletter@example.com│
│                              │
│ ☑ 同時にアーカイブする        │
│                              │
│ [キャンセル]  [配信停止]      │
└─────────────────────────────┘
処理フロー

メール表示時に配信停止リンクを自動検出

List-Unsubscribeヘッダーをチェック
本文中のリンク（"unsubscribe", "配信停止"等）を検索


リンクが見つかった場合、バナーを表示
ユーザーがクリック → 確認ダイアログ
配信停止リンクを新しいタブで開く
オプションで同時にアーカイブ
統計情報を記録

検出パターン

URLパターン: /unsubscribe/i, /opt-out/i
テキストパターン: "配信停止", "配信解除", "メール停止", "unsubscribe", "opt out"
ヘッダー: List-Unsubscribe

エラーハンドリング

リンクが見つからない：「配信停止リンクが見つかりませんでした」
リンクが無効：「配信停止リンクが無効です」
アーカイブ失敗：「アーカイブに失敗しました」


3.3 機能6：アカウント切り替え
概要
複数のGmailアカウント間を素早く切り替える機能。
ユーザーストーリー

ユーザーは：複数のGmailアカウントにログイン済みの状態で
操作：Cmd+1, Cmd+2, Cmd+3...を押す
結果：対応するアカウントに即座に切り替わる

対応ショートカット
Cmd+1（Ctrl+1）: 1つ目のアカウント
Cmd+2（Ctrl+2）: 2つ目のアカウント
Cmd+3（Ctrl+3）: 3つ目のアカウント
...
Cmd+9（Ctrl+9）: 9つ目のアカウント
UI/UX
アカウント一覧表示（オプション）
Cmd+Shift+A でアカウント一覧表示:

┌─────────────────────────────┐
│ アカウント切り替え (Cmd+数字)  │
├─────────────────────────────┤
│ 1. work@company.com ●        │ ← 現在のアカウント
│    未読: 15件                │
│                              │
│ 2. personal@gmail.com        │
│    未読: 3件                 │
│                              │
│ 3. freelance@example.com     │
│    未読: 0件                 │
└─────────────────────────────┘
切り替え時の表示
画面右上に一瞬表示:
┌──────────────────┐
│ → work@company.com│
└──────────────────┘
処理フロー

Gmailのアカウント情報を取得
各アカウントのURL（/mail/u/0/, /mail/u/1/等）を特定
ショートカット検出
対応するアカウントのURLに遷移
切り替え通知を表示

エラーハンドリング

アカウントが見つからない：「アカウント X が見つかりません」
既にアクティブ：「既に XXX を使用中です」


3.4 機能7：ショートカット学習
概要
ユーザーがマウスで操作したときに、代わりに使えるキーボードショートカットを提案する機能。
ユーザーストーリー

ユーザーは：アーカイブボタンをマウスでクリック
結果：「ヒント: 次回は E キーで素早くアーカイブできます」と表示
3回同じ操作をしたら提案を停止

UI/UX
ツールチップ表示
ボタンの近くに表示:
┌──────────────────────────────┐
│ 💡 ヒント: E キーで          │
│    アーカイブできます          │
└──────────────────────────────┘
3秒後に自動で消える
学習状況の表示（設定画面）
┌─────────────────────────────────┐
│ ショートカット学習状況            │
├─────────────────────────────────┤
│ ✓ アーカイブ (E)                │
│   マウス: 15回 → ショートカット: 42回│
│                                  │
│ ⚠ 返信 (R)                      │
│   マウス: 8回 → ショートカット: 2回 │
│   [ヒントを再表示]                │
│                                  │
│ ✓ スター (S)                    │
│   マウス: 3回 → ショートカット: 20回│
└─────────────────────────────────┘
ショートカットマッピング
操作ショートカット日本語ラベルArchiveEアーカイブDelete#削除ReplyR返信Reply allA全員に返信ForwardF転送StarSスターMark as readShift+I既読Mark as unreadShift+U未読SnoozeBスヌーズMove toV移動LabelsLラベルComposeC新規作成
処理フロー

マウスクリックを監視
クリックされたボタンのaria-labelから操作を特定
対応するショートカットを検索
学習データを確認

マウスクリック回数を記録
ヒント表示回数をチェック
学習済みかチェック


ヒント表示条件を満たす場合、ツールチップ表示
キーボードショートカット使用を監視
ショートカット使用回数を記録
3回以上使用で「学習済み」としてヒント停止

ヒント表示条件

学習済みでない
ヒント表示回数が3回未満
最後のヒント表示から24時間以上経過
マウスクリック回数が3回以上

学習完了条件

ショートカット使用回数が3回以上


3.5 機能12：送信取り消し延長（30秒）
概要
メール送信後、30秒間は送信を取り消せる機能。Gmail標準の5秒から大幅に延長。
ユーザーストーリー

ユーザーは：メールを送信
結果：30秒間のカウントダウンが表示され、その間は取り消し可能
操作：Cmd+Z または「取り消し」ボタンで送信キャンセル

UI/UX
送信後の表示
画面下部に表示:
┌────────────────────────────────────┐
│ 送信中... あと 28秒で送信されます    │
│ [取り消し (Cmd+Z)]                 │
│ ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░░░░░ 70%         │
└────────────────────────────────────┘
取り消し成功
┌────────────────────────┐
│ ✓ 送信を取り消しました    │
│   下書きに保存されました   │
└────────────────────────┘
送信完了
┌────────────────┐
│ ✓ 送信しました   │
└────────────────┘
処理フロー

送信ボタンのクリックをインターセプト
メール内容（宛先、件名、本文、添付ファイル）を取得
下書きとして保存
作成画面を閉じる
カウントダウンバーを表示
30秒間待機（1秒ごとに進捗バー更新）
Cmd+Z または取り消しボタンで中断可能
30秒経過 → 下書きを送信
送信完了通知を表示

設定オプション

遅延時間：10秒 / 20秒 / 30秒 / 60秒（デフォルト: 30秒）
カウントダウン表示：表示 / 非表示
自動送信音：有効 / 無効

エラーハンドリング

下書き保存失敗：「メールの保存に失敗しました」
送信失敗：「送信に失敗しました。下書きに保存されています」


3.6 機能17：UI簡素化モード
概要
Gmailの不要な要素を非表示にして、メールに集中できるシンプルなUIを提供する機能。
ユーザーストーリー

ユーザーは：Cmd+Shift+F を押す
結果：サイドバー、広告、チャットなどが非表示になり、メールだけに集中できる

UI/UX
トグルショートカット
Cmd+Shift+F（Mac）/ Ctrl+Shift+F（Windows）
モード切り替えボタン
画面右上に固定ボタン:
┌──────────┐
│ 🎯 集中   │ ← クリックでモード切り替え
└──────────┘
モード選択
┌─────────────────────────┐
│ 表示モード                │
├─────────────────────────┤
│ ○ 通常モード              │
│ ● シンプルモード          │
│ ○ 集中モード              │
│ ○ カスタムモード          │
└─────────────────────────┘
モード別設定
通常モード

すべて表示（Gmail標準）

シンプルモード

非表示：サイドバー、Google Meet、チャット、広告
表示：メインメニュー、検索、タブ

集中モード

非表示：サイドバー、Google Meet、チャット、広告、プロモーションタブ、ソーシャルタブ
表示：メイン受信トレイのみ

カスタムモード

ユーザーが個別に要素の表示/非表示を設定

カスタマイズ可能な要素
要素デフォルト左サイドバー表示右サイドバー表示Google Meet表示Google Chat表示広告表示プロモーションタブ表示ソーシャルタブ表示更新情報タブ表示フォーラムタブ表示
処理フロー

ショートカットまたはボタンクリック
現在のモード状態を取得
次のモードに切り替え
対応する要素にCSSクラスを追加/削除
設定をストレージに保存
切り替え通知を表示


3.7 機能18：一括配信停止モード
概要
不要なメールマガジンやニュースレターを一括で配信停止できる機能。
ユーザーストーリー

ユーザーは：「一括配信停止モード」を起動
結果：過去30日間のメールから配信停止可能なものをリスト表示
操作：チェックして一括配信停止

UI/UX
起動方法

設定メニューから「一括配信停止」
専用ボタン（メイン画面）

一覧表示
┌──────────────────────────────────────┐
│ 一括配信停止モード                     │
├──────────────────────────────────────┤
│ 過去30日間で配信停止可能なメール       │
│                                       │
│ ☑ Newsletter Daily (週3回、12通)     │
│    最終受信: 2日前                    │
│                                       │
│ ☑ Promo Updates (週1回、4通)         │
│    最終受信: 5日前                    │
│                                       │
│ ☐ Tech News (月1回、1通)             │
│    最終受信: 15日前                   │
│                                       │
│ [すべて選択] [すべて解除]             │
│                                       │
│ 選択: 2件                             │
│ [配信停止を実行]                      │
└──────────────────────────────────────┘
実行確認
┌─────────────────────────────┐
│ 確認                         │
├─────────────────────────────┤
│ 2件のメールの配信を停止します │
│                              │
│ ☑ 既存のメールもアーカイブ    │
│                              │
│ [キャンセル]  [実行]         │
└─────────────────────────────┘
進捗表示
┌─────────────────────────────┐
│ 配信停止中...                │
├─────────────────────────────┤
│ Newsletter Daily ✓           │
│ Promo Updates ✓              │
│                              │
│ 2/2 完了                     │
└─────────────────────────────┘
処理フロー

過去30日間のメールを取得
各メールから配信停止リンクを検出
送信者ごとにグループ化
頻度、件数、最終受信日を計算
リスト表示
ユーザーが選択
確認ダイアログ
各メールの配信停止リンクを開く（または自動実行）
オプションで既存メールをアーカイブ
完了通知

検出条件

List-Unsubscribeヘッダーあり
本文中に配信停止リンクあり
プロモーションタブまたはソーシャルタブのメール

エラーハンドリング

配信停止失敗：「一部のメールで配信停止に失敗しました」
タイムアウト：「処理に時間がかかっています。バックグラウンドで続行します」


3.8 機能20：受信トレイタブ分割++
概要
Gmailの標準タブ機能を拡張し、カスタムタブを無制限に作成して自動振り分けできる機能。
ユーザーストーリー

ユーザーは：「VIP」「請求書」などのカスタムタブを作成
設定：振り分けルール（送信者、件名、ドメイン等）を指定
結果：該当するメールが自動的にタブに振り分けられる

UI/UX
タブ表示
受信トレイ上部:
┌────────────────────────────────────────┐
│ メイン | VIP(5) | 請求書(2) | NL(12) | +│
└────────────────────────────────────────┘
         ↑色分け可能
タブ設定画面
┌──────────────────────────────────────┐
│ カスタムタブ設定                       │
├──────────────────────────────────────┤
│ タブ一覧:                             │
│                                       │
│ 1. VIP                                │
│    色: 🔴 赤                          │
│    ショートカット: Cmd+Shift+1        │
│    [ルール編集] [削除]                │
│                                       │
│ 2. 請求書                             │
│    色: 🟢 緑                          │
│    ショートカット: Cmd+Shift+2        │
│    [ルール編集] [削除]                │
│                                       │
│ [+ 新規タブ追加]                      │
└──────────────────────────────────────┘
ルール編集画面
┌──────────────────────────────────────┐
│ タブ「VIP」のルール設定                │
├──────────────────────────────────────┤
│ 以下の条件に一致するメールを振り分け:   │
│                                       │
│ ルール1:                              │
│ [送信者 ▼] [含む ▼] [社長          ]│
│                                       │
│ ルール2:                              │
│ [From   ▼] [一致 ▼] [boss@company.com]│
│                                       │
│ ルール3:                              │
│ [件名   ▼] [含む ▼] [至急          ]│
│                                       │
│ [+ ルール追加]                        │
│                                       │
│ 条件: いずれかに一致 ▼                │
│                                       │
│ 通知設定: 即時通知 ▼                  │
│ 自動アーカイブ: しない ▼              │
│                                       │
│ プレビュー: このルールに該当 → 3件    │
│                                       │
│ [キャンセル]  [保存]                  │
└──────────────────────────────────────┘
タブ設定項目
基本設定

タブ名（必須）
カラー（10色から選択）
アイコン（オプション）
ショートカットキー（Cmd+Shift+1〜9）

振り分けルール

送信者（部分一致、完全一致）
送信元ドメイン
件名（キーワード、正規表現）
本文（キーワード）
添付ファイルの有無
CC/BCCの有無
過去の分類履歴

条件結合

いずれかに一致（OR）
すべてに一致（AND）

通知設定

即時通知
まとめて通知（1時間ごと、1日1回）
通知オフ

自動処理

自動アーカイブ（7日後、30日後、90日後、しない）
自動削除（30日後、90日後、しない）
自動既読

ショートカット
Cmd+Shift+1〜9: 各タブへ移動
T: タブ選択メニュー表示
Cmd+Shift+T: タブ管理画面
処理フロー
メール受信時

新着メールを検出
各カスタムタブのルールと照合
マッチするタブに自動振り分け
タブ設定に応じて通知
自動処理設定を適用

ユーザー操作

メール選択 → T キー → タブ選択
選択したタブにメール移動
学習データに記録（将来のAI分類用）

タブ間移動

Cmd+Shift+数字 でタブ切り替え
URL更新（/mail/u/0/#custom-tab-vip）
該当するメールのみ表示

エラーハンドリング

ルールが複雑すぎる：「ルールを簡素化してください」
タブ数上限：「無料版は5タブまでです」（有料版は無制限）
振り分け失敗：「一部のメールで振り分けに失敗しました」


4. 技術仕様
4.1 開発環境
フロントエンド

Chrome Extension Manifest V3
JavaScript (ES2022)
HTML5 / CSS3
Tailwind CSS（スタイリング）

ストレージ

chrome.storage.local（ユーザー設定、学習データ）
chrome.storage.sync（設定の同期）

バックグラウンド処理

Service Worker
chrome.alarms（定期処理）

すみません！仕様書の続きを完成させます。

4. 技術仕様
4.1 開発環境
フロントエンド

Chrome Extension Manifest V3
JavaScript (ES2022)
HTML5 / CSS3
Tailwind CSS（スタイリング）

ストレージ

chrome.storage.local（ユーザー設定、学習データ）
chrome.storage.sync（設定の同期）

バックグラウンド処理

Service Worker
chrome.alarms（定期処理）

4.2 ファイル構成
enhance-gmail/
├── manifest.json          # 拡張機能の設定
├── background.js          # バックグラウンド処理
├── content.js            # Gmail画面に注入されるスクリプト
├── popup.html            # 拡張機能のポップアップUI
├── popup.js              # ポップアップのロジック
├── settings.html         # 設定画面
├── settings.js           # 設定画面のロジック
├── styles/
│   ├── content.css      # Gmail画面のスタイル
│   └── popup.css        # ポップアップのスタイル
├── utils/
│   ├── parser.js        # 自然言語パーサー
│   ├── gmail-api.js     # Gmail DOM操作ヘルパー
│   └── storage.js       # ストレージ操作ヘルパー
└── icons/               # アイコン画像
    ├── icon16.png
    ├── icon48.png
    └── icon128.png
4.3 権限要件
manifest.json で必要な権限
json{
  "permissions": [
    "storage",
    "alarms",
    "notifications",
    "tabs"
  ],
  "host_permissions": [
    "https://mail.google.com/*"
  ]
}
4.4 データ構造
ストレージスキーマ
javascript// ユーザー設定
{
  settings: {
    snoozeDelay: 30,              // スヌーズデフォルト時間
    sendDelay: 30,                 // 送信取り消し時間（秒）
    showHints: true,               // ショートカット学習表示
    uiMode: 'simple',              // UI簡素化モード
    language: 'ja',                // 言語設定
    notifications: true            // 通知有効/無効
  },
  
  // スヌーズ中のメール
  snoozedEmails: [
    {
      emailId: 'thread_xxx',
      snoozeUntil: 1704963600000,  // Unix timestamp
      originalLabels: ['INBOX', 'IMPORTANT']
    }
  ],
  
  // カスタムタブ設定
  customTabs: [
    {
      id: 'vip',
      name: 'VIP',
      color: '#ff0000',
      shortcut: 1,
      rules: [
        { 
          type: 'from', 
          operator: 'contains', 
          value: 'boss@company.com' 
        }
      ],
      notification: 'instant',
      autoArchive: null
    }
  ],
  
  // ショートカット学習データ
  learningData: {
    'Archive': {
      mouseClicks: 15,
      keyboardUses: 42,
      lastHintShown: 1704963600000,
      hintCount: 3,
      learned: true
    }
  },
  
  // 統計データ
  stats: {
    emailsProcessed: 1250,
    timeSaved: 7200,              // 秒
    unsubscribeCount: 23,
    lastUpdated: 1704963600000
  }
}
```

---

## 5. ユーザーフロー

### 5.1 初回インストール時

1. Chrome Web Store から拡張機能をインストール
2. Gmailを開くと「ようこそ」画面が表示
3. 簡単なチュートリアル（スキップ可能）
   - 主要機能の紹介
   - ショートカット一覧
   - 設定画面への案内
4. 無料トライアル開始（7日間）
5. 通常利用開始

### 5.2 典型的な1日の使用フロー

**朝（メール確認）**
1. Gmailを開く
2. UI簡素化モードで集中
3. VIPタブをチェック（Cmd+Shift+1）
4. 重要メールに返信
5. 不要なメールはワンクリック配信停止

**日中（メール処理）**
1. 新着メールが自動的にタブ振り分け
2. 緊急でないメールはスヌーズ（"tonight"）
3. 返信を書く → 送信 → 30秒以内に誤字発見 → 取り消し → 修正 → 再送信

**夕方（整理）**
1. 一括配信停止モードで不要なメルマガ整理
2. 今日スヌーズしたメールを確認
3. アカウント切り替え（Cmd+2）で個人アカウント確認

### 5.3 設定変更フロー

1. 拡張機能アイコンをクリック
2. 歯車アイコン → 設定画面
3. 各機能のON/OFF、カスタマイズ
4. 保存 → 即座に反映

---

## 6. パフォーマンス要件

### 6.1 応答時間

| 操作 | 目標応答時間 |
|------|-------------|
| ショートカット実行 | 100ms以内 |
| スヌーズダイアログ表示 | 200ms以内 |
| アカウント切り替え | 500ms以内 |
| 配信停止リンク検出 | 300ms以内 |
| UI簡素化モード切り替え | 150ms以内 |

### 6.2 リソース使用量

- メモリ使用量：50MB以下
- CPU使用率：アイドル時 < 1%、処理時 < 10%
- ストレージ：10MB以下

### 6.3 互換性

**対応ブラウザ**
- Google Chrome 120以上
- Microsoft Edge 120以上（Chromiumベース）

**対応Gmail**
- 新しいGmail UI（必須）
- 日本語環境
- 英語環境

---

## 7. セキュリティ・プライバシー

### 7.1 データ保護

**ローカル処理原則**
- メール内容は外部サーバーに送信しない
- すべての処理はブラウザ内で完結
- プライバシーファースト設計

**収集するデータ**
- 設定情報（ローカル保存）
- 学習データ（ローカル保存）
- 使用統計（匿名化、オプトイン）

**収集しないデータ**
- メール本文
- メールアドレス
- 個人を特定できる情報

### 7.2 権限の最小化

- 必要最小限の権限のみ要求
- メール読み取り権限は使用しない（DOM操作のみ）
- バックグラウンドでのネットワーク通信なし

### 7.3 セキュリティ対策

- Content Security Policy (CSP) 設定
- XSS対策（サニタイゼーション）
- インジェクション対策

---

## 8. エラーハンドリング

### 8.1 エラー種別と対応

| エラー種別 | 対応方法 | ユーザー表示 |
|-----------|---------|-------------|
| Gmail DOM構造変更 | フォールバック処理 | 「一時的に機能が制限されています」 |
| ストレージエラー | 再試行（3回） | 「保存に失敗しました」 |
| ネットワークエラー | リトライ | 「接続を確認してください」 |
| 権限エラー | 権限要求ダイアログ | 「権限の許可が必要です」 |

### 8.2 ログ記録

**開発モード**
- console.log で詳細ログ
- エラースタックトレース

**本番モード**
- エラーのみ記録
- ユーザー識別情報は含めない

---

## 9. 国際化（i18n）

### 9.1 対応言語

**Phase 1（MVP）**
- 日本語
- 英語

**Phase 2**
- 中国語（簡体字）
- 韓国語
- スペイン語

### 9.2 翻訳対象

- UI文言
- エラーメッセージ
- 設定画面
- ヘルプテキスト
- ショートカット説明

### 9.3 日付・時刻フォーマット

- 日本語：2025年1月12日 9:00
- 英語：Jan 12, 2025 9:00 AM
- ロケールに応じた自動切り替え

---

## 10. テスト計画

### 10.1 テスト種別

**単体テスト**
- 自然言語パーサー
- ストレージ操作
- ユーティリティ関数

**統合テスト**
- Gmail DOM操作
- ショートカット動作
- バックグラウンド処理

**E2Eテスト**
- 主要ユーザーフロー
- クロスブラウザ確認

**手動テスト**
- UI/UX確認
- 実際のGmail環境での動作確認

### 10.2 テストケース例

**機能4：自然言語スヌーズ**
```
TC-001: "明日" と入力 → 翌日9:00に設定される
TC-002: "2時間後" と入力 → 現在時刻+2時間に設定される
TC-003: 無効な入力 → エラーメッセージ表示
TC-004: 過去の時刻 → エラーメッセージ表示
TC-005: スヌーズ実行 → メールが受信トレイから消える
TC-006: 指定時刻到達 → メールが受信トレイに戻る
TC-007: 通知が表示される
```

### 10.3 品質基準

- クリティカルバグ：0件
- メジャーバグ：5件以下
- カバレッジ：主要機能 80%以上
- ユーザビリティテスト：5名以上で実施

---

## 11. リリース計画

### 11.1 開発スケジュール

**Week 1-2: MVP開発（Phase 1）**
- Day 1-2: 送信取り消し延長
- Day 3-5: UI簡素化モード
- Day 6-10: 自然言語スヌーズ
- Day 11-14: テスト・バグフィックス

**Week 3-4: 追加機能（Phase 2）**
- Day 15-17: ワンクリック配信停止
- Day 18-19: アカウント切り替え
- Day 20-24: ショートカット学習
- Day 25-28: テスト・改善

**Week 5: 高度な機能（Phase 3）**
- Day 29-33: 受信トレイタブ分割
- Day 34-35: テスト・最適化

**Week 6: ローンチ準備**
- Day 36-37: 一括配信停止モード
- Day 38-39: ドキュメント作成
- Day 40-42: 最終テスト・バグフィックス

### 11.2 リリース戦略

**Beta版（Week 4）**
- 50名限定で招待制
- フィードバック収集
- バグ報告

**Public Beta（Week 5）**
- Chrome Web Store非公開リスト
- 500名まで拡大
- 使用統計収集

**正式リリース（Week 6）**
- Chrome Web Store公開
- Product Hunt ローンチ
- SNS告知

### 11.3 マイルストーン
```
Week 2: MVP完成
Week 4: Beta版リリース
Week 5: Public Beta
Week 6: 正式リリース
Week 8: 初回アップデート（バグフィックス）
Week 12: 有料化開始

12. 収益化戦略
12.1 価格設定
無料版

基本機能のみ
UI簡素化モード（全機能）
送信取り消し延長（10秒）
アカウント切り替え（3アカウントまで）

スタンダード（¥500/月、¥4,800/年）

自然言語スヌーズ（無制限）
送信取り消し延長（30秒）
ワンクリック配信停止
ショートカット学習
アカウント切り替え（無制限）
カスタムタブ（5個まで）

プレミアム（¥1,500/月、¥15,000/年）

スタンダードの全機能
カスタムタブ（無制限）
一括配信停止モード
統計ダッシュボード
優先サポート

12.2 決済方法
Phase 1

Stripe（クレジットカード決済）
PayPal

Phase 2

Apple Pay / Google Pay
銀行振込（法人向け）

12.3 ライセンス管理
認証フロー

拡張機能内で「アップグレード」クリック
外部サイト（Stripe Checkout）で決済
ライセンスキー発行
拡張機能に入力
サーバーで検証
機能アンロック

ライセンス確認

起動時に確認
24時間ごとに再確認
オフライン時は7日間猶予


13. サポート・ドキュメント
13.1 ヘルプドキュメント
必要なページ

使い方ガイド
ショートカット一覧
FAQ
トラブルシューティング
プライバシーポリシー
利用規約

13.2 サポートチャネル
Phase 1

メールサポート（support@enhance-gmail.com）
よくある質問（FAQ）

Phase 2

チャットサポート（有料版のみ）
コミュニティフォーラム

Phase 3

ビデオチュートリアル
ウェビナー

13.3 フィードバック収集

アプリ内フィードバックフォーム
NPS調査（定期）
機能リクエスト投票


14. KPI・成功指標
14.1 主要KPI
指標目標（3ヶ月）目標（6ヶ月）目標（12ヶ月）インストール数1,0005,00020,000DAU（日次アクティブユーザー）3001,5006,000有料転換率5%10%15%MRR（月次経常収益）¥25,000¥250,000¥1,500,000チャーンレート< 10%< 7%< 5%NPS> 30> 40> 50
14.2 機能別指標
機能測定指標自然言語スヌーズ使用回数/ユーザー・日ワンクリック配信停止配信停止成功率アカウント切り替え切り替え回数/ユーザー・日ショートカット学習ショートカット使用率の向上送信取り消し取り消し実行率UI簡素化モード有効化率
14.3 ビジネス指標

CAC（顧客獲得コスト）
LTV（顧客生涯価値）
LTV/CAC比率 > 3.0
ペイバック期間 < 6ヶ月


15. リスク管理
15.1 技術的リスク
リスク影響度確率対策Gmail UI変更高中定期的な動作確認、フォールバック実装Chrome Extension API変更中低公式ドキュメント監視、早期対応パフォーマンス問題中中最適化、遅延読み込みセキュリティ脆弱性高低コードレビュー、セキュリティ監査
15.2 ビジネスリスク
リスク影響度確率対策競合参入高高差別化機能、早期リリースGoogleが同機能追加高中常に一歩先の機能開発ユーザー獲得難航中中マーケティング強化収益化失敗高低フリーミアムモデル、価格調整
15.3 法的リスク
リスク影響度確率対策プライバシー違反高低弁護士レビュー、GDPR対応商標侵害中低事前調査、商標登録利用規約違反中低Gmail利用規約遵守確認

16. 今後の展開
16.1 機能拡張ロードマップ
Phase 4（3-6ヶ月後）

AI要約機能（ローカルLLM使用）
AIメール下書き補助
スマート通知
チーム機能（複数ユーザー）

Phase 5（6-12ヶ月後）

Outlook対応
Slack連携
Notion連携
Zapier連携

16.2 他プラットフォーム展開

Firefox版
Safari版（Mac）
モバイルアプリ（将来）

16.3 エンタープライズ版

チーム管理機能
使用統計ダッシュボード
SSO対応
API提供


付録
A. ショートカット一覧
機能MacWindows説明スヌーズCmd+Shift+SCtrl+Shift+Sスヌーズダイアログ表示配信停止Cmd+Shift+UCtrl+Shift+Uワンクリック配信停止アカウント1Cmd+1Ctrl+11つ目のアカウントに切り替えアカウント2Cmd+2Ctrl+22つ目のアカウントに切り替えUI切り替えCmd+Shift+FCtrl+Shift+FUI簡素化モード切り替え送信取り消しCmd+ZCtrl+Z送信を取り消しタブ1Cmd+Shift+1Ctrl+Shift+1カスタムタブ1へ移動アカウント一覧Cmd+Shift+ACtrl+Shift+Aアカウント一覧表示タブ選択TTタブ選択メニュー
B. 用語集

スヌーズ: メールを一時的に受信トレイから削除し、指定時刻に再表示する機能
配信停止: メールマガジンやニュースレターの配信を停止する行為
ショートカット: キーボード操作で機能を実行する方法
タブ: 受信トレイをカテゴリ分けする単位
アーカイブ: メールを受信トレイから削除するが、完全には削除しない操作

C. 参考資料

Gmail API Documentation
Chrome Extension Developer Guide
Superhuman公式サイト
Simplify Gmail
Boomerang for Gmail


文書バージョン: 1.0
最終更新日: 2025年1月12日
作成者: [Your Name]
ステータス: DraftClaude is AI and can make mistakes. Please double-check responses. Sonnet 4.5Claude is AI and can make mistakes. Please double-check responses.